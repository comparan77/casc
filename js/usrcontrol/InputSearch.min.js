!function(){function a(){var a;a=document.getElementById(this.options.content),a.className="pure-form"+this.options.className,this.searchTxtDato=document.createElement("input"),this.searchTxtDato.setAttribute("type",this.options.typeDataSearch),this.searchTxtDato.setAttribute("id","txt_dato"),this.searchTxtDato.setAttribute("placeHolder",this.options.txtPlaceHolder),this.searchTxtDato.className="pure-input-rounded",a.appendChild(this.searchTxtDato),this.searchButton=document.createElement("button"),this.searchButton.className="pure-button",this.searchButton.innerHTML='<i class="sprite icon Search"></i>Buscar',a.appendChild(this.searchButton),this.searchHiddenIdDato=document.createElement("input"),this.searchHiddenIdDato.setAttribute("type","hidden"),this.searchHiddenIdDato.setAttribute("id","h_id_dato"),a.appendChild(this.searchHiddenIdDato),this.searchHiddenTxtDato=document.createElement("input"),this.searchHiddenTxtDato.setAttribute("type","hidden"),this.searchHiddenTxtDato.setAttribute("id","h_txt_dato"),a.appendChild(this.searchHiddenTxtDato),b.call(this)}function b(){var a=this;a.searchButton.addEventListener("click",function(){a.options.clickBtnSearch&&a.options.clickBtnSearch(),Common.setEstatusBtn(a.searchButton,"Buscando...",!0);var b=c.call(a);try{a.options.functionModel(b,function(b){"object"!=typeof b?Common.notificationAlert(b,"Alerta","Ok"):(a.searchHiddenTxtDato.value=a.searchTxtDato.value,a.searchHiddenIdDato.value=b.Id,a.options.callbackBtnSearch(b)),Common.setEstatusBtn(a.searchButton,"Buscar",!1)})}catch(a){alert(a)}})}function c(){var a=this.searchTxtDato.value,b="";switch(this.options.maskDataSearch){case"pedimento":b=/(\d{2})(\d{4})(\d{7})/,a=a.replace(b,"$1-$2-$3");break;case"ordencarga":if(a.length<1)return a;b=/^(\d{1,5})((\-)([1,2])(\d{1}))?$/,a=a.match(b)[0],a=a.indexOf("-")==-1?a+"-"+(new Date).getFullYear().toString().substr(-2):a;var c=a.split("-"),d=c[0],e=""+d,f="00000";a="ORC-"+(f.substring(0,f.length-e.length)+e)+"-"+c[1],this.searchTxtDato.value=a;break;default:alert("the data type not exists...")}return a}function d(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}this.InputSearch=function(){this.searchButton=null,this.searchDiv=null,this.searchTxtDato=null,this.searchHiddenIdDato=null,this.searchHiddenTxtDato=null;var b={content:"",className:"",txtPlaceHolder:"Referencia",functionModel:"",clickBtnSearch:"",callbackBtnSearch:"",maskDataSearch:"",typeDataSearch:"text"};arguments[0]&&"object"==typeof arguments[0]&&(this.options=d(b,arguments[0])),a.call(this)}}();