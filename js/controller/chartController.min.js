var arrClientes=[],BeanChartJs=function(a,b,c,d,e,f){this.Title=a,this.Data=null,this.Opcion=b,this.Anio=c,this.Mes=d,this.Id_cliente=e,this.Id_bodega=f},Chart=function(){function a(a){var b=(new Date).getFullYear();void 0==a&&(a=b),x$("#spn_anio_anterior").html(a-1),x$("#spn_anio_seleccionado").html(a),x$("#spn_anio_siguiente").html(a+1>b?"":a+1)}function b(){a(),f(),g(),h(),i(),Common.fillDropDownList("ddl_cliente",arrClientes,"Todos"),d()}function c(){try{0==arrClientes.length?(Common.loadAjax(!0),CatalogosModel.ClienteGetAll(function(a){arrClientes=a,Common.loadAjax(!1),b()})):b()}catch(a){alert(a)}}function d(){var a=new BeanChartJs("Unidades",1*document.getElementById("ddl_op").value,1*x$("#spn_anio_seleccionado").html(),1*document.getElementById("ddl_mes").value,1*document.getElementById("ddl_cliente").value,0);ReportModel.reporteGet(a,function(a){e(a)})}function e(a){var b={chart:{type:"column"},title:{text:"Transportes"},xAxis:{categories:[],crosshair:!0},yAxis:{min:0,title:{text:"Cantidad"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0"></td><td style="padding:0"><b>{point.y:.1f} </b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{}]};for(var c in a.Data.labelX)b.xAxis.categories.push(a.Data.labelX[c]);b.series[0].data=a.Data.dataX,b.series[0].name="Tipos de Transporte",Highcharts.chart("container",b)}function f(){x$(".optAnio").each(function(b,c,e){x$(b).on("click",function(){a(1*x$(b).html()),d()})})}function g(){x$("#ddl_mes").on("change",function(){d()})}function h(){x$("#ddl_op").on("change",function(){d()})}function i(){x$("#ddl_cliente").on("change",function(){d()})}this.Init=c};